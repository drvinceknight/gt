<!DOCTYPE html>
<html>
<head>
  <title>Game Theory</title>

  <link rel="stylesheet" href="/gt/assets/css/main.css">
  <link rel="shortcut icon" type="image/png" href="/gt/assets/favicon.ico"/>

   
<style media="screen" type="text/css">


div.input_prompt {
  color: #303F9F;
}

div.output_prompt {
  color: #D84315;
}
</style>

    <!-- Loading mathjax macro -->
    <!-- Load mathjax -->
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
        <!-- MathJax configuration -->
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true,
                processEnvironments: true
            },
            // Center justify equations in code and markdown cells. Elsewhere
            // we use CSS to left justify single line equations in code cells.
            displayAlign: 'center',
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}},
                linebreaks: { automatic: true }
            }
        });
        </script>
        <!-- End of mathjax configuration --></head>


    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38016329-2', 'auto');
    ga('send', 'pageview');
    </script>

    <!-- gitter side car -->
    <script> ((window.gitter = {}).chat = {}).options = { room: 'vkgt/Lobby' }; </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

</head>
<body>

    <header class="site-header">

  <div class="wrap">


    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
          <a class="page-link" href="/gt/">Game Theory</a>
          <a class="page-link" href="/gt/chapters/">Chapters</a>
          <a class="page-link" href="/gt/exercises/">Exercises</a>
      </div>
    </nav>

  </div>
</header>

 <div class="page-content">
    <div class="wrap">
      <div class="home">
        
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Prisoners-dilemma---exercises">Prisoners dilemma - exercises<a class="anchor-link" href="#Prisoners-dilemma---exercises">&#182;</a></h1><ol>
<li><p>Give the general definition for a Prisoners dilemma.</p>
<p>Bookwork: <a href="https://vknight.org/gt/chapters/09/#Prisoners-Dilemma">https://vknight.org/gt/chapters/09/#Prisoners-Dilemma</a></p>
</li>
<li><p>Justify if the following games are Prisoners dilemmas or not:</p>
<ol>
<li><p>$
A =
\begin{pmatrix}
3 & 0\\
5 & 1
\end{pmatrix}
\qquad
B =
\begin{pmatrix}
3 & 5\\
0 & 1
\end{pmatrix}
$</p>
<p>This is a Prisoners Dilemma: $(R, S, T, P) = (3, 1, 5, 0)$.</p>
</li>
<li><p>$
A =
\begin{pmatrix}
1 & -1\\
2 & 0
\end{pmatrix}
\qquad
B =
\begin{pmatrix}
1 & 2\\
-1 & 0
\end{pmatrix}
$</p>
<p>This is a Prisoners Dilemma: $(R, S, T, P) = (1, -1, 2, 0)$: $2>1>0>-1$ and $2\times 1 > 2 - 1$.</p>
</li>
<li><p>$
A =
\begin{pmatrix}
1 & -1\\
2 & 0
\end{pmatrix}
\qquad
B =
\begin{pmatrix}
3 & 5\\
0 & 1
\end{pmatrix}
$</p>
<p>This is not a Prisoner's Dilemma $A \ne B ^ T$</p>
</li>
<li><p>$
A =
\begin{pmatrix}
6 & 0\\
12 & 1
\end{pmatrix}
\qquad
B =
\begin{pmatrix}
6 & 12\\
0 & 0
\end{pmatrix}
$</p>
<p>This is not a Prisoner's Dilemma $A \ne B ^ T$</p>
</li>
</ol>
</li>
<li><p>Obtain the Markov chain representation for a match between reactive strategies with the following vectors:</p>
<p>Bookwork: this is a substitution exercise using <a href="https://vknight.org/gt/chapters/09/#Markov-chain-representation-of-a-Match-between-two-reactive-strategies">https://vknight.org/gt/chapters/09/#Markov-chain-representation-of-a-Match-between-two-reactive-strategies</a></p>
<ol>
<li><p>$p=(1/2, 1/2)\qquad q=(1/2, 1/2)$</p>
<p>$$M = \begin{pmatrix}
1/4&1/4&1/4&1/4\\
1/4&1/4&1/4&1/4\\
1/4&1/4&1/4&1/4\\
1/4&1/4&1/4&1/4
\end{pmatrix}$$</p>
</li>
<li><p>$p=(1/4, 1/2)\qquad q=(1/2, 1/4)$</p>
<p>$$M = \begin{pmatrix}
1/8&1/8&3/8&3/8\\
1/4&1/4&1/4&1/4\\
1/16&3/16&3/16&9/16\\
1/8&3/8&1/8&3/8
\end{pmatrix}$$</p>
</li>
<li><p>$p=(1/3, 1/3)\qquad q=(2/3, 1/4)$</p>
<p>$$M = \begin{pmatrix}
2/9 & 1/9 & 4/9 & 2/9\\
2/9 & 1/9 & 4/9 & 2/9\\
1/12 & 1/4 & 1/6 & 1/2\\
1/12 & 1/4 & 1/6 & 1/2
\end{pmatrix}$$</p>
</li>
</ol>
</li>
<li><p>Obtain the utilities for both players for the vectors of question 3.</p>
<p>Bookwork: this is a substitution exercise using <a href="https://vknight.org/gt/chapters/09/#Theorem:-steady-state-probabilities-for-match-between-reactive-players">https://vknight.org/gt/chapters/09/#Theorem:-steady-state-probabilities-for-match-between-reactive-players</a></p>
<ol>
<li>$p=(1/2, 1/2)\qquad q=(1/2, 1/2)$ gives utilities: $(9/4, 9/4)$</li>
<li>$p=(1/4, 1/2)\qquad q=(1/2, 1/4)$ gives utilities: $(536/289, 621/289)$</li>
<li>$p=(1/3, 1/3)\qquad q=(2/3, 1/4)$ gives utilities: $(113/54, 49/27)$</li>
</ol>
</li>
</ol>
<p>Here is some python code that also carries out these calculations:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="k">def</span> <span class="nf">make_matrix</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Code to obtain Markov chain representation of match between two reactive players.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">M</span> <span class="o">=</span> <span class="p">[[</span><span class="n">ele</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">ele</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="n">player</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">player</span><span class="p">],</span> 
                                                       <span class="p">[</span><span class="n">opponent</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">opponent</span><span class="p">])]</span>
         <span class="k">for</span> <span class="n">opponent</span> <span class="ow">in</span> <span class="n">q</span> <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">p</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">theoretic_steady_state</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
    <span class="n">r_1</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">r_2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">s_1</span> <span class="o">=</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">r_1</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">r_1</span> <span class="o">*</span> <span class="n">r_2</span><span class="p">)</span>
    <span class="n">s_2</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">r_2</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">r_1</span> <span class="o">*</span> <span class="n">r_2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">s_1</span> <span class="o">*</span> <span class="n">s_2</span><span class="p">,</span> <span class="n">s_1</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">s_2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">s_1</span><span class="p">)</span> <span class="o">*</span> <span class="n">s_2</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">s_1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">s_2</span><span class="p">)])</span>

<span class="k">def</span> <span class="nf">theoretic_utility</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">rstp</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">])):</span>
    <span class="n">pi</span> <span class="o">=</span> <span class="n">theoretic_steady_state</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">rstp</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sympy</span> <span class="k">as</span> <span class="nn">sym</span>
<span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="ow">in</span> <span class="p">[([</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">]),</span>
             <span class="p">([</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span><span class="p">]),</span>
             <span class="p">([</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span><span class="p">])]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=====&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;gives:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">make_matrix</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;With utility:&quot;</span><span class="p">,</span> <span class="n">theoretic_utility</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">),</span> <span class="n">theoretic_utility</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_subarea output_stream output_stdout output_text">
<pre>=====
[1/2, 1/2] [1/2, 1/2]
gives:
[[1/4 1/4 1/4 1/4]
 [1/4 1/4 1/4 1/4]
 [1/4 1/4 1/4 1/4]
 [1/4 1/4 1/4 1/4]]
With utility: 9/4 9/4
=====
[1/4, 1/2] [1/2, 1/4]
gives:
[[1/8 1/8 3/8 3/8]
 [1/4 1/4 1/4 1/4]
 [1/16 3/16 3/16 9/16]
 [1/8 3/8 1/8 3/8]]
With utility: 536/289 621/289
=====
[1/3, 1/3] [2/3, 1/4]
gives:
[[2/9 1/9 4/9 2/9]
 [2/9 1/9 4/9 2/9]
 [1/12 1/4 1/6 1/2]
 [1/12 1/4 1/6 1/2]]
With utility: 113/54 49/27
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>5</code>. Assuming $p=(x, 1/2)$, find the optimal $x$ against the following players:</p>
<p>A part of this question involves bookwork: this is a substitution exercise using <a href="https://vknight.org/gt/chapters/09/#Theorem:-steady-state-probabilities-for-match-between-reactive-players">https://vknight.org/gt/chapters/09/#Theorem:-steady-state-probabilities-for-match-between-reactive-players</a>. This is a substitution exercise to obtain a formula for the utility of $p$ as a function of $x$.</p>
<ol>
<li><p>$q=(1, 0)$</p>
<p>$$u(x)=\frac{(-10x + 4(x - 1)^2 + 13)}{(2x - 3)^2}$$</p>
<p>The derivative of this function is given by:</p>
<p>$$
\frac{2(6x - 7)}{(2x - 3)^3}
$$</p>
<p>This derivative has zero for $x=7/6$ which is $>1$. Thus the utility is monotic increasing over the interval $[0, 1]$. We have (by substitution):</p>
<p>$$u(0)=17/9\qquad u(1)=3$$</p>
<p>Thus $u(x)$ is an increasing function so the optimal value of $x$ is $1$.</p>
<p>Against a player that is unforgiving (reacts to defection with defection), given that our player will play randomly against a defection it is better to always cooperate.</p>
</li>
<li><p>$q=(1/2, 1/2)$</p>
<p>$$u(x)=-3x/4+21/8$$</p>
<p>This is a decreasing function so the optimal value of $x$ is $0$.</p>
<p>Against a random player (who takes no notice of what we do) it is better to defect.</p>
</li>
</ol>
<p>Below is some code to verify this calculations.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">sym</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span> <span class="p">(</span><span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)]:</span>
    <span class="n">utility</span> <span class="o">=</span> <span class="n">theoretic_utility</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">sym</span><span class="o">.</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">q</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">utility</span><span class="o">.</span><span class="n">simplify</span><span class="p">(),</span> <span class="n">utility</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">}),</span> <span class="n">utility</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">}),</span> <span class="n">sym</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">utility</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">(),</span> <span class="n">sym</span><span class="o">.</span><span class="n">solveset</span><span class="p">(</span><span class="n">sym</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">utility</span><span class="p">,</span> <span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_subarea output_stream output_stdout output_text">
<pre>(-10*x + 4*(x - 1)**2 + 13)/(2*x - 3)**2 17/9 3 2*(6*x - 7)/(2*x - 3)**3 {7/6}
-3*x/4 + 21/8 21/8 15/8 -3/4 EmptySet()
</pre>
</div>
</div>

</div>
</div>

</div>
 



    
        <a href="../08/">Previous</a>
    
    
        <p align="right"><a href="../10/">Next</a></p>
    


      </div>
  </div>
</div>


</body>
</html>